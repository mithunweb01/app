<!DOCTYPE html>
<html lang='en'>
<head>
<meta charset='UTF-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0'>
<title>Mithun Multi-Tool App</title>

<!-- External Libraries -->
<script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.6/dist/JsBarcode.all.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/algebrite@1.3.1/dist/algebrite.min.js"></script>

<style>
:root {
  --bg1: #ff5f6d;
  --bg2: #ffc371;
  --card: rgba(255,255,255,0.95);
  --text-dark: #000;
  --text-light: #fff;
  --accent: #2196F3;
}
body {
  margin:0;
  background: linear-gradient(135deg, var(--bg1), var(--bg2));
  font-family: Arial, sans-serif;
  color: var(--text-light);
}
.tabs {
  display:flex;
  gap:10px;
  padding:12px;
  justify-content:center;
  background: rgba(0,0,0,0.4);
  backdrop-filter: blur(5px);
  position:sticky;
  top:0;
  z-index: 1000;
}
.tab-btn {
  padding:10px 15px;
  border-radius:12px;
  background:rgba(255,255,255,0.2);
  color:white;
  cursor:pointer;
  font-weight:bold;
  border:2px solid var(--accent);
  transition: all 0.3s;
}
.tab-btn:hover, .tab-btn.active-tab {
  background:var(--accent);
  color:white;
  box-shadow: 0 0 10px var(--accent);
}
.tab-content { display:none; padding:20px; }
.active { display:block; }

.tool-box {
  background:var(--card);
  color:var(--text-dark);
  padding:15px;
  border-radius:12px;
  margin-bottom:20px;
  box-shadow:0 8px 20px rgba(0,0,0,0.3);
}

input,select,button,textarea {
  padding:10px;
  margin:5px;
  border-radius:8px;
  border:1px solid #ccc;
}
button {
  background:var(--accent);
  color:#fff;
  font-weight:bold;
  cursor:pointer;
  border:none;
  transition: .2s;
}
button:hover { opacity:0.9; background-color:#007bb2; }

.result {
  margin-top:10px;
  padding:10px;
  background:#f0f8ff;
  border-radius:10px;
  color:#000;
  font-weight:bold;
  white-space:pre-wrap;
  border-left:5px solid var(--accent);
}
</style>

<script>
function openTab(t, element) {
  document.querySelectorAll('.tab-content').forEach(x => x.classList.remove('active'));
  document.querySelectorAll('.tab-btn').forEach(x => x.classList.remove('active-tab'));
  document.getElementById(t).classList.add('active');
  element.classList.add('active-tab');
}

window.onload = function() {
  const homeButton = document.querySelector(`.tab-btn[onclick*="home"]`);
  openTab("home", homeButton);
};
</script>
</head>

<body>

<div class='tabs'>
  <div class='tab-btn' onclick="openTab('home', this)">Home</div>
  <div class='tab-btn' onclick="openTab('smarttools', this)">Smart Tools</div>
  <div class='tab-btn' onclick="openTab('capital', this)">Capital Finder</div>
  <div class='tab-btn' onclick="openTab('solution', this)">Algebra Solver</div>
  <div class='tab-btn' onclick="openTab('operations', this)">Operations</div>
  <div class='tab-btn' onclick="openTab('lifetools', this)">Life Tools</div>
  <div class='tab-btn' onclick="openTab('weather', this)">Weather Forecast</div>
  <div class='tab-btn' onclick="openTab('quiz', this)">Quiz</div>
</div>

<!------------------ HOME ------------------>
<div id='home' class='tab-content'>
  <h1>Welcome Mithun ðŸ‘‹</h1>
  <div class="tool-box">
    <h3>Text Tools</h3>
    <textarea id="text_in" rows="5" placeholder="Type text here..."></textarea>
    <button onclick="upperText()">UPPERCASE</button>
    <button onclick="lowerText()">lowercase</button>
    <button onclick="removeSpaces()">Remove Spaces</button>
    <textarea id="text_out" class="result" rows="5" readonly></textarea>
  </div>
</div>

<!------------------ SMART TOOLS ------------------>
<div id="smarttools" class="tab-content">
  <h2>Smart Tools Collection</h2>

  <div class="tool-box">
    <h3>QR Code Maker</h3>
    <input id="qr_text" placeholder="Enter text or URL">
    <button onclick="makeQR()">Generate</button>
    <div id="qr_box" class="result" style="text-align:center;"></div>
  </div>

  <div class="tool-box">
    <h3>Barcode Generator</h3>
    <input id="barcode_text" placeholder="Enter number">
    <button onclick="makeBarcode()">Generate</button>
    <div id="barcode_box" class="result" style="display:none;text-align:center;">
      <svg id="barcode_svg"></svg>
    </div>
  </div>

  <div class="tool-box">
    <h3>Your IP Finder</h3>
    <button onclick="getIP()">Show My IP</button>
    <div id="ip_box" class="result"></div>
  </div>

  <div class="tool-box">
    <h3>Device Info</h3>
    <button onclick="getDeviceInfo()">Show Device Info</button>
    <div id="device_box" class="result"></div>
  </div>

  <div class="tool-box">
    <h3>Password Strength Checker</h3>
    <input id="pwd_input" type="password">
    <button onclick="checkPwd()">Check</button>
    <div id="pwd_box" class="result"></div>
  </div>

  <div class="tool-box">
    <h3>Random Name Picker</h3>
    <textarea id="name_list" placeholder="Names separated by commas"></textarea>
    <button onclick="pickName()">Pick</button>
    <div id="pick_out" class="result"></div>
  </div>

  <div class="tool-box">
    <h3>Timer</h3>
    <input id="timer_in" type="number" placeholder="Seconds">
    <button onclick="startTimer()">Start</button>
    <div id="timer_out" class="result"></div>
  </div>

  <div class="tool-box">
    <h3>Stopwatch</h3>
    <div id="sw_out" class="result">0.00s</div>
    <button onclick="swStart()">Start</button>
    <button onclick="swStop()">Stop</button>
    <button onclick="swReset()">Reset</button>
  </div>

  <div class="tool-box">
    <h3>Notes App</h3>
    <textarea id="note_in" rows="4"></textarea>
    <button onclick="saveNote()">Save</button>
    <button onclick="loadNote()">Load</button>
    <div id="note_out" class="result"></div>
  </div>
</div>

<!------------------ CAPITAL FINDER ------------------>
<div id="capital" class="tab-content">
  <h2>Capital Finder</h2>
  <div class="tool-box">
    <input id="country_in" placeholder="Enter country">
    <button onclick="findCapital()">Find Capital</button>
    <div id="capital_out" class="result"></div>
  </div>
</div>

<!------------------ ALGEBRA SOLVER ------------------>
<div id="solution" class="tab-content">
  <h2>Algebra Solver</h2>
  <div class="tool-box">
    <input id="alg_in" placeholder="Equation (ex: 2x+3=15)">
    <button onclick="solveAlg()">Solve</button>
    <div id="alg_out" class="result"></div>
  </div>
</div>

<!------------------ OPERATIONS ------------------>
<div id="operations" class="tab-content">
  <h2>Math Operations</h2>

  <div class="tool-box">
    <h3>Basic Calculator</h3>
    <input id="n1" type="number" placeholder="Number 1">
    <input id="n2" type="number" placeholder="Number 2">
    <button onclick="calc('+')">+</button>
    <button onclick="calc('-')">-</button>
    <button onclick="calc('*')">*</button>
    <button onclick="calc('/')">/</button>
    <div id="calc_out" class="result"></div>
  </div>

  <div class="tool-box">
    <h3>LCM / HCF</h3>
    <input id="lcm_in" placeholder="Numbers separated by commas (ex 4,6,8)">
    <button onclick="calcLCM()">LCM</button>
    <button onclick="calcHCF()">HCF</button>
    <div id="lcm_out" class="result"></div>
  </div>

  <div class="tool-box">
    <h3>Prime Checker</h3>
    <input id="prime_in" type="number" placeholder="Enter number">
    <button onclick="checkPrime()">Check</button>
    <div id="prime_out" class="result"></div>
  </div>
</div>


    <!-- WEATHER FORECAST TAB -->
  <div id="weather" class="tab-content">
    <h2>Weather Forecast</h2>

    <div class="tool-box">
      <h3>Auto Location Weather</h3>
      <button onclick="autoWeather()">Detect & Show Weather</button>
      <div id="auto_weather_out" class="result"></div>
    </div>

    <div class="tool-box">
      <h3>Search City Weather</h3>
      <input id="city_in" placeholder="Enter city (ex: Chennai)">
      <button onclick="cityWeather()">Show Weather</button>
      <div id="city_weather_out" class="result"></div>
    </div>
  </div>


</div><!-- end tabs container -->

<!-- ============= SCRIPTS SECTION ============= -->
<script>
/* ---------------- TAB CONTROL ---------------- */
function openTab(tabName, elm) {
  let tabs = document.getElementsByClassName("tab-content");
  for (let t of tabs) t.style.display = "none";

  let btns = document.getElementsByClassName("tab-btn");
  for (let b of btns) b.classList.remove("active");

  document.getElementById(tabName).style.display = "block";
  elm.classList.add("active");
}

/* ---------------- QR CODE MAKER ---------------- */
function makeQR() {
  let t = document.getElementById("qr_input").value;
  if (!t) return alert("Enter something!");
  let url = "https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=" + encodeURIComponent(t);
  document.getElementById("qr_out").innerHTML = `<img src="${url}">`;
}

/* ---------------- BARCODE GENERATOR ---------------- */
function makeBarcode() {
  let t = document.getElementById("barcode_input").value;
  if (!t) return alert("Enter text!");
  let url = "https://barcode.tec-it.com/barcode.ashx?data=" + encodeURIComponent(t);
  document.getElementById("barcode_out").innerHTML = `<img src="${url}">`;
}

/* ---------------- IP ADDRESS FINDER ---------------- */
async function getIP() {
  let r = await fetch("https://api.ipify.org?format=json");
  let d = await r.json();
  document.getElementById("ip_out").innerText = "Your IP: " + d.ip;
}

/* ---------------- DEVICE INFO ---------------- */
function getDeviceInfo() {
  let info =
    "Platform: " + navigator.platform + "\n" +
    "Browser: " + navigator.userAgent + "\n" +
    "Language: " + navigator.language + "\n" +
    "Online: " + navigator.onLine;
  document.getElementById("device_out").innerText = info;
}

/* ---------------- PASSWORD STRENGTH ---------------- */
function checkPass() {
  let p = document.getElementById("pass_in").value;
  let s = "Weak";

  let score = 0;
  if (p.length > 6) score++;
  if (/[A-Z]/.test(p)) score++;
  if (/[0-9]/.test(p)) score++;
  if (/[^A-Za-z0-9]/.test(p)) score++;

  if (score <= 1) s = "Weak";
  else if (score == 2) s = "Medium";
  else if (score >= 3) s = "Strong";

  document.getElementById("pass_out").innerText = "Strength: " + s;
}

/* ---------------- RANDOM NAME PICKER ---------------- */
function pickName() {
  let names = document.getElementById("names_in").value.trim();
  if (!names) return alert("Enter names separated by commas!");
  let arr = names.split(",");
  let r = arr[Math.floor(Math.random() * arr.length)];
  document.getElementById("name_out").innerText = "Selected: " + r;
}

/* ---------------- TIMER ---------------- */
let timerInterval;
function startTimer() {
  let s = Number(document.getElementById("timer_sec").value);
  if (!s) return alert("Enter seconds!");
  clearInterval(timerInterval);

  timerInterval = setInterval(() => {
    document.getElementById("timer_out").innerText = s + " sec left";
    s--;
    if (s < 0) {
      clearInterval(timerInterval);
      document.getElementById("timer_out").innerText = "Time's up!";
    }
  }, 1000);
}

/* ---------------- STOPWATCH ---------------- */
let sw = 0, swInterval;
function startSW() {
  clearInterval(swInterval);
  swInterval = setInterval(() => {
    sw++;
    document.getElementById("sw_out").innerText = sw + " sec";
  }, 1000);
}
function stopSW() { clearInterval(swInterval); }
function resetSW() { sw = 0; document.getElementById("sw_out").innerText = "0"; }

/* ---------------- NOTES APP ---------------- */
function saveNote() {
  localStorage.setItem("note", document.getElementById("note_in").value);
}
function loadNote() {
  document.getElementById("note_in").value = localStorage.getItem("note") || "";
}
loadNote();

/* ---------------- WEATHER FORECAST ---------------- */

// Auto location weather
function autoWeather() {
  if (!navigator.geolocation) {
    auto_weather_out.innerText = "Geolocation not supported!";
    return;
  }

  auto_weather_out.innerText = "Getting your location...";

  navigator.geolocation.getCurrentPosition(async (pos) => {
    let lat = pos.coords.latitude;
    let lon = pos.coords.longitude;

    let url = `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current_weather=true`;

    let r = await fetch(url);
    let d = await r.json();

    auto_weather_out.innerText =
      "Temperature: " + d.current_weather.temperature + "Â°C\n" +
      "Wind Speed: " + d.current_weather.windspeed + " km/h\n" +
      "Condition Code: " + d.current_weather.weathercode;
  });
}

// City weather
async function cityWeather() {
  let city = city_in.value.trim();
  if (!city) {
    city_weather_out.innerText = "Enter city name!";
    return;
  }

  city_weather_out.innerText = "Searching...";

  // Step 1: Geocoding â†’ lat/lon
  let geo = await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${city}`);
  let g = await geo.json();

  if (!g.results || g.results.length === 0) {
    city_weather_out.innerText = "City not found!";
    return;
  }

  let lat = g.results[0].latitude;
  let lon = g.results[0].longitude;

  // Step 2: Weather
  let url = `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current_weather=true`;

  let r = await fetch(url);
  let d = await r.json();

  city_weather_out.innerText =
    "City: " + g.results[0].name + "\n" +
    "Temperature: " + d.current_weather.temperature + "Â°C\n" +
    "Wind Speed: " + d.current_weather.windspeed + " km/h\n" +
    "Condition Code: " + d.current_weather.weathercode;
}

</script>

</body>
</html>
