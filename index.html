<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="google-site-verification" content="YUqkf7c7YEs8IuaoGH_YEbtAlTwlNHAr_Oj2RhOhdmE" />
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Mithun Multi-Tool App</title>
  <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.6/dist/JsBarcode.all.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjs@12.0.0/lib/browser/math.min.js"></script>

  <style>
    /* ------------------- THEME ------------------- */
    :root{
      --bg1:#ff5f6d;
      --bg2:#ffc371;
      --glass-bg:rgba(255,255,255,0.18);
      --glass-border:rgba(255,255,255,0.25);
      --accent:#ff4d79;
      --shadow:rgba(0,0,0,0.18);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:Arial, Helvetica, sans-serif;
      background:linear-gradient(135deg,var(--bg1),var(--bg2));
      color:#111;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    /* NAV / TABS */
    .tabs{
      position:sticky;
      top:0;
      z-index:1000;
      display:flex;
      gap:8px;
      padding:10px;
      overflow-x:auto;
      align-items:center;
      background:rgba(0,0,0,0.25);
      backdrop-filter:blur(6px);
    }
    .tab-btn{
      flex:0 0 auto;
      padding:10px 14px;
      border-radius:14px;
      background:var(--glass-bg);
      border:1px solid var(--glass-border);
      cursor:pointer;
      font-weight:700;
      color:#fff;
      white-space:nowrap;
      -webkit-tap-highlight-color: transparent;
    }
    .tab-btn:hover{ transform:translateY(-2px) }
    .tab-btn.active-tab{ background:var(--accent); }

    /* CONTENT */
    .container{ padding:16px; max-width:1100px; margin:0 auto; }
    .tab-content{ display:none; padding:10px 0; }
    .tab-content.active{ display:block; }

    /* GLASS CARDS */
    .tool-box{
      background:rgba(255,255,255,0.18);
      border:1px solid var(--glass-border);
      padding:14px;
      border-radius:14px;
      margin-bottom:16px;
      box-shadow:0 8px 20px var(--shadow);
      color:#111;
    }

    /* FORM ELEMENTS */
    input,select,textarea,button{
      padding:10px;
      border-radius:8px;
      border:1px solid rgba(0,0,0,0.12);
      margin-top:8px;
      width:100%;
      font-size:15px;
    }
    textarea{ min-height:100px; resize:vertical; }
    .result{
      background:#fff;
      border-radius:10px;
      padding:10px;
      margin-top:10px;
      white-space:pre-wrap;
      border-left:4px solid var(--accent);
    }

    /* GRID FOR CATEGORIES */
    .tools-grid{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
      gap:12px;
      margin-top:12px;
    }

    /* SMALL SCREEN */
    @media (max-width:600px){
      .tab-btn{ padding:10px; font-size:14px; border-radius:10px; }
      .tool-box{ padding:12px; border-radius:12px; }
      body{ font-size:15px; }
    }

    .hidden{ display:none }
    .small{ font-size:13px; color:#333; }
    canvas { max-width:100%; border-radius:8px; }
  </style>
</head>
<body>
<div class="tabs" role="tablist">
  <button class="tab-btn active-tab" data-tab="home" onclick="openTab('home', this)">Home</button>
  <button class="tab-btn" data-tab="smart" onclick="openTab('smart', this)">Smart Tools</button>
  <button class="tab-btn" data-tab="life" onclick="openTab('life', this)">Life Tools</button>
  <button class="tab-btn" data-tab="number" onclick="openTab('number', this)">Number Tools</button>
  <button class="tab-btn" data-tab="fun" onclick="openTab('fun', this)">Fun Tools</button>
  <button class="tab-btn" data-tab="operations" onclick="openTab('operations', this)">Operations</button>
  <button class="tab-btn" data-tab="weather" onclick="openTab('weather', this)">Weather</button>
  <button class="tab-btn" data-tab="quiz" onclick="openTab('quiz', this)">Quiz</button>
</div>

<div class="container">

  <!-- HOME -->
  <section id="home" class="tab-content active">
    <h1>Welcome Mithun</h1>
    <div class="tool-box">
      <h3>Text Tools</h3>
      <textarea id="text_in" placeholder="Type or paste text here..."></textarea>
      <div style="display:flex;gap:8px;margin-top:8px;flex-wrap:wrap">
        <button onclick="upperText()">UPPERCASE</button>
        <button onclick="lowerText()">lowercase</button>
        <button onclick="removeSpaces()">Remove Extra Spaces</button>
      </div>
      <textarea id="text_out" class="result" readonly placeholder="Result will appear here"></textarea>
    </div>
  </section>

  <!-- SMART TOOLS -->
  <section id="smart" class="tab-content">
    <h2>Smart Tools</h2>
    <div class="tools-grid">

      <div class="tool-box">
        <h3>QR Code</h3>
        <input id="qr_text" placeholder="Text or URL">
        <button onclick="makeQR()">Generate</button>
        <div id="qr_box" class="result" style="text-align:center"></div>
      </div>

      <div class="tool-box">
        <h3>Barcode</h3>
        <input id="barcode_text" placeholder="Numbers or text">
        <button onclick="makeBarcode()">Generate</button>
        <div class="result" style="text-align:center"><svg id="barcode_svg"></svg></div>
      </div>

      <div class="tool-box">
        <h3>URL Shortener</h3>
        <input id="long_url" placeholder="Enter long URL">
        <button onclick="shortenURL()">Shorten</button>
        <div id="short_url" class="result"></div>
      </div>

      <div class="tool-box">
        <h3>Text to PDF</h3>
        <textarea id="pdf_text" placeholder="Enter text to convert to PDF"></textarea>
        <button onclick="textToPDF()">Download PDF</button>
      </div>

      <div class="tool-box">
        <h3>Voice-to-Text</h3>
        <button id="start_voice" onclick="toggleVoice()">Start Recording</button>
        <button id="stop_voice" onclick="toggleVoice()" style="display:none;background:#d00">Stop</button>
        <div id="voice_result" class="result"></div>
      </div>

      <div class="tool-box">
        <h3>Website Screenshot</h3>
        <input id="screenshot_url" placeholder="https://example.com">
        <button onclick="takeScreenshot()">Capture</button>
        <div id="screenshot_result" class="result" style="text-align:center"></div>
      </div>

      <div class="tool-box">
        <h3>Scientific Calculator</h3>
        <input id="calc_input" placeholder="Enter expression (e.g. sin(30) + 2^3)">
        <button onclick="calcScientific()">Calculate</button>
        <div id="calc_result" class="result"></div>
      </div>

      <div class="tool-box">
        <h3>Your IP</h3>
        <button onclick="getIP()">Show IP</button>
        <div id="ip_box" class="result"></div>
      </div>

      <div class="tool-box">
        <h3>Device Info</h3>
        <button onclick="getDeviceInfo()">Show</button>
        <div id="device_box" class="result"></div>
      </div>

      <div class="tool-box">
        <h3>Password Strength</h3>
        <input id="pwd_input" type="password" placeholder="Enter password">
        <button onclick="checkPwd()">Check</button>
        <div id="pwd_box" class="result"></div>
      </div>
    </div>
  </section>

  <!-- LIFE TOOLS -->
  <section id="life" class="tab-content">
    <h2>Life Tools</h2>
    <div class="tools-grid">

      <div class="tool-box">
        <h3>Steps to Calories</h3>
        <input id="steps_input" type="number" placeholder="Number of steps">
        <button onclick="stepsToCalories()">Convert</button>
        <div id="steps_result" class="result"></div>
      </div>

      <div class="tool-box">
        <h3>Stopwatch</h3>
        <div style="font-size:32px;font-weight:bold;text-align:center" id="stopwatch">00:00:00</div>
        <div style="text-align:center;margin-top:10px">
          <button onclick="startStopwatch()">Start</button>
          <button onclick="stopStopwatch()">Stop</button>
          <button onclick="resetStopwatch()">Reset</button>
        </div>
      </div>

      <div class="tool-box">
        <h3>Timer</h3>
        <input id="timer_minutes" type="number" placeholder="Minutes" min="0">
        <input id="timer_seconds" type="number" placeholder="Seconds" min="0" max="59" value="0">
        <button onclick="startTimer()">Start Timer</button>
        <div id="timer_display" style="font-size:28px;margin:10px 0;text-align:center">00:00</div>
      </div>

      <div class="tool-box">
        <h3>Sleep Time Calculator</h3>
        <input type="time" id="wake_time">
        <button onclick="suggestSleep()">Suggest Bed Time</button>
        <div id="sleep_result" class="result"></div>
      </div>

      <div class="tool-box">
        <h3>GST Calculator (India)</h3>
        <input id="gst_amount" type="number" placeholder="Amount (excl. GST)">
        <select id="gst_rate">
          <option value="0">0%</option>
          <option value="5">5%</option>
          <option value="12">12%</option>
          <option value="18" selected>18%</option>
          <option value="28">28%</option>
        </select>
        <button onclick="calcGST()">Calculate</button>
        <div id="gst_result" class="result"></div>
      </div>

    </div>
  </section>

  <!-- NUMBER TOOLS -->
  <section id="number" class="tab-content">
    <h2>Number Tools</h2>
    <div class="tools-grid">

      <div class="tool-box">
        <h3>HCF & LCM Calculator</h3>
        <input id="hcf_a" placeholder="Number 1">
        <input id="hcf_b" placeholder="Number 2">
        <button onclick="calcHCF_LCM()">Calculate</button>
        <div id="hcf_result" class="result"></div>
      </div>

      <div class="tool-box">
        <h3>Number to Words (Indian)</h3>
        <input id="num_words" placeholder="Enter number (up to 999999999)">
        <button onclick="numberToWords()">Convert</button>
        <div id="words_result" class="result"></div>
      </div>

      <div class="tool-box">
        <h3>Roman â†” Number Converter</h3>
        <input id="roman_input" placeholder="Enter Roman or Number">
        <button onclick="convertRoman()">Convert</button>
        <div id="roman_result" class="result"></div>
      </div>

    </div>
  </section>

  <!-- FUN TOOLS -->
  <section id="fun" class="tab-content">
    <h2>Fun Tools</h2>
    <div class="tools-grid">

      <div class="tool-box">
        <h3>Random Number / Dice</h3>
        <input id="dice_min" type="number" value="1" style="width:48%">
        <input id="dice_max" type="number" value="6" style="width:48%">
        <button onclick="rollDice()">Roll</button>
        <div id="dice_result" class="result" style="font-size:36px;text-align:center"></div>
      </div>

      <div class="tool-box">
        <h3>Word Scrambler</h3>
        <input id="scramble_word" placeholder="Enter a word">
        <button onclick="scrambleWord()">Scramble</button>
        <div id="scrambled_result" class="result" style="font-size:24px"></div>
      </div>

      <div class="tool-box">
        <h3>Nickname Generator</h3>
        <input id="nick_name" placeholder="Your name">
        <button onclick="generateNickname()">Generate</button>
        <div id="nickname_result" class="result" style="font-size:20px"></div>
      </div>

    </div>
  </section>

  <!-- OTHER SECTIONS (Operations, Weather, Quiz) remain unchanged -->
  <!-- ... (your existing sections) ... -->
  
</div>

<script>
// Helper
function $id(id){ return document.getElementById(id); }

// Tab system
function openTab(id, btn){
  document.querySelectorAll(".tab-content").forEach(t => t.classList.remove("active"));
  const el = $id(id);
  if(el) el.classList.add("active");
  document.querySelectorAll(".tab-btn").forEach(b => b.classList.remove("active-tab"));
  if(btn) btn.classList.add("active-tab");
}

/* ==================== SMART TOOLS ==================== */

function makeQR(){
  const v = encodeURIComponent($id('qr_text').value||'');
  $id('qr_box').innerHTML = `<img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${v}">`;
}

function makeBarcode(){
  const v = $id('barcode_text').value || '123456789';
  try{
    JsBarcode("#barcode_svg", v, {format:"auto",displayValue:true, width:2, height:60});
  }catch(e){
    alert('Invalid barcode data');
  }
}

function shortenURL(){
  const url = $id('long_url').value.trim();
  if(!url || !url.startsWith('http')) return $id('short_url').innerText = 'Enter valid URL';
  const short = "mithun.in/" + btoa(url).substring(0,8);
  $id('short_url').innerHTML = `<a href="${url}" target="_blank">${short}</a> (Demo only)`;
}

function textToPDF(){
  const text = $id('pdf_text').value || 'Empty document';
  const { jsPDF } = window.jspdf;
  const doc = new jsPDF();
  doc.text(text, 10, 10);
  doc.save("document.pdf");
}

let recognition;
function toggleVoice(){
  if(!('SpeechRecognition' in window || 'webkitSpeechRecognition' in window)) {
    $id('voice_result').innerText = 'Speech recognition not supported';
    return;
  }
  if(!recognition){
    const SpeechRecognition = window.SpeechRecognition || webkitSpeechRecognition;
    recognition = new SpeechRecognition();
    recognition.lang = 'en-US';
    recognition.onresult = e => {
      $id('voice_result').innerText = e.results[0][0].transcript;
    };
  }
  if(recognition.running){
    recognition.stop();
    $id('start_voice').style.display = 'block';
    $id('stop_voice').style.display = 'none';
    recognition.running = false;
  } else {
    recognition.start();
    $id('start_voice').style.display = 'none';
    $id('stop_voice').style.display = 'block';
    recognition.running = true;
  }
}

function takeScreenshot(){
  const url = $id('screenshot_url').value.trim();
  if(!url) return alert('Enter URL');
  const imgUrl = `https://api.thumbnail.ws/api/${btoa(url)}/thumbnail/get?width=600&height=400`;
  $id('screenshot_result').innerHTML = `<img src="${imgUrl}" alt="screenshot">`;
}

function calcScientific(){
  try{
    const result = math.evaluate($id('calc_input').value);
    $id('calc_result').innerText = result;
  }catch(e){
    $id('calc_result').innerText = 'Invalid expression';
  }
}

async function getIP(){
  try{
    const r = await fetch("https://api.ipify.org?format=json");
    const d = await r.json();
    $id('ip_box').innerText = d.ip;
  }catch(e){
    $id('ip_box').innerText = 'Failed';
  }
}

function getDeviceInfo(){
  $id('device_box').innerText = navigator.userAgent;
}

function checkPwd(){
  const p = $id('pwd_input').value;
  let score = 0;
  if(p.length >= 8) score++;
  if(/[a-z]/.test(p)) score++;
  if(/[A-Z]/.test(p)) score++;
  if(/[0-9]/.test(p)) score++;
  if(/[^a-zA-Z0-9]/.test(p)) score++;
  const labels = ["Very Weak","Weak","Medium","Strong","Very Strong"];
  $id('pwd_box').innerText = labels[score-1] || "Very Weak";
}

/* ==================== LIFE TOOLS ==================== */

function stepsToCalories(){
  const steps = parseInt($id('steps_input').value) || 0;
  const calories = (steps * 0.04).toFixed(1);
  $id('steps_result').innerText = `${steps} steps â‰ˆ ${calories} calories burned`;
}

let stopwatchInterval, timerInterval;
let swSeconds = 0;
function startStopwatch(){
  if(stopwatchInterval) return;
  stopwatchInterval = setInterval(()=>{
    swSeconds++;
    const h = String(Math.floor(swSeconds/3600)).padStart(2,'0');
    const m = String(Math.floor((swSeconds%3600)/60)).padStart(2,'0');
    const s = String(swSeconds%60).padStart(2,'0');
    $id('stopwatch').innerText = `${h}:${m}:${s}`;
  },1000);
}
function stopStopwatch(){
  clearInterval(stopwatchInterval);
  stopwatchInterval = null;
}
function resetStopwatch(){
  stopStopwatch();
  swSeconds = 0;
  $id('stopwatch').innerText = "00:00:00";
}

function startTimer(){
  let mins = parseInt($id('timer_minutes').value) || 0;
  let secs = parseInt($id('timer_seconds').value) || 0;
  let total = mins*60 + secs;
  if(total <= 0) return alert("Set time");
  clearInterval(timerInterval);
  timerInterval = setInterval(()=>{
    if(total <= 0){
      clearInterval(timerInterval);
      $id('timer_display').innerText = "Time Up!";
      return;
    }
    total--;
    const m = String(Math.floor(total/60)).padStart(2,'0');
    const s = String(total%60).padStart(2,'0');
    $id('timer_display').innerText = `${m}:${s}`;
  },1000);
}

function suggestSleep(){
  const wake = $id('wake_time').value;
  if(!wake) return $id('sleep_result').innerText = "Select wake time";
  const [h,m] = wake.split(':');
  let wakeMins = parseInt(h)*60 + parseInt(m);
  const cycles = [90,180,270,360,450]; // 1.5h cycles
  let suggestions = "Recommended bedtime:\n";
  cycles.forEach(c=>{
    let bedMins = wakeMins - c - 15; // fall asleep in 15 min
    if(bedMins < 0) bedMins += 1440;
    const bh = String(Math.floor(bedMins/60)).padStart(2,'0');
    const bm = String(bedMins%60).padStart(2,'0');
    suggestions += `${bh}:${bm} (${c/60} hours sleep)\n`;
  });
  $id('sleep_result').innerText = suggestions;
}

function calcGST(){
  const amt = parseFloat($id('gst_amount').value);
  const rate = parseFloat($id('gst_rate').value);
  if(isNaN(amt)) return $id('gst_result').innerText = "Enter amount";
  const gst = amt * rate / 100;
  const total = amt + gst;
  $id('gst_result').innerHTML = `GST (${rate}%): â‚¹${gst.toFixed(2)}<br>Total: â‚¹${total.toFixed(2)}`;
}

/* ==================== NUMBER TOOLS ==================== */

function calcHCF_LCM(){
  let a = parseInt($id('hcf_a').value);
  let b = parseInt($id('hcf_b').value);
  if(!a || !b) return $id('hcf_result').innerText = "Enter two numbers";
  let x=a, y=b;
  while(y){ let t=y; y=x%y; x=t; }
  const hcf = x;
  const lcm = (a*b)/hcf;
  $id('hcf_result').innerText = `HCF: ${hcf}\nLCM: ${lcm}`;
}

function numberToWords(){
  const num = parseInt($id('num_words').value);
  if(isNaN(num) || num < 0 || num > 999999999) return $id('words_result').innerText = "Enter 0â€“999,999,999";
  const a = ['','One ','Two ','Three ','Four ','Five ','Six ','Seven ','Eight ','Nine ','Ten ','Eleven ','Twelve ','Thirteen ','Fourteen ','Fifteen ','Sixteen ','Seventeen ','Eighteen ','Nineteen '];
  const b = ['', '', 'Twenty','Thirty','Forty','Fifty','Sixty','Seventy','Eighty','Ninety'];
  function inWords(n){
    if(n < 20) return a[n];
    if(n < 100) return b[Math.floor(n/10)] + (n%10?' '+a[n%10]:'') + ' ';
    if(n < 1000) return a[Math.floor(n/100)]+'Hundred '+(n%100?inWords(n%100):'')+'';
    if(n < 100000) return inWords(Math.floor(n/1000))+'Thousand '+(n%1000?inWords(n%1000):'')+'';
    if(n < 10000000) return inWords(Math.floor(n/100000))+'Lakh '+(n%100000?inWords(n%100000):'')+'';
    return inWords(Math.floor(n/10000000))+'Crore '+(n%10000000?inWords(n%10000000):'')+'';
  }
  $id('words_result').innerText = inWords(num) + (num===0?"Zero":"");
}

function convertRoman(){
  const input = $id('roman_input').value.trim().toUpperCase();
  if(!input) return;
  // Roman to Number
  const romanMap = {I:1,V:5,X:10,L:50,C:100,D:500,M:1000};
  let num = 0;
  for(let i=0;i<input.length;i++){
    if(romanMap[input[i]] < romanMap[input[i+1]]) num -= romanMap[input[i]];
    else num += romanMap[input[i]];
  }
  if(!isNaN(parseInt(input))) {
    // Number to Roman
    const val = [1000,900,500,400,100,90,50,40,10,9,5,4,1];
    const sym = ["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"];
    let n = parseInt(input);
    let res = '';
    for(let i=0;i<val.length;i++){
      while(n>=val[i]){ res+=sym[i]; n-=val[i]; }
    }
    $id('roman_result').innerText = res;
  } else {
    $id('roman_result').innerText = num;
  }
}

/* ==================== FUN TOOLS ==================== */

function rollDice(){
  const min = parseInt($id('dice_min').value) || 1;
  const max = parseInt($id('dice_max').value) || 6;
  const result = Math.floor(Math.random()*(max-min+1))+min;
  $id('dice_result').innerText = 'ðŸŽ² ' + result;
}

function scrambleWord(){
  const word = $id('scramble_word').value;
  if(!word) return;
  const arr = word.split('');
  for(let i=arr.length-1;i>0;i--){
    const j = Math.floor(Math.random()*(i+1));
    [arr[i],arr[j]] = [arr[j],arr[i]];
  }
  $id('scrambled_result').innerText = arr.join('');
}

const adjectives = ["Cool","Epic","Mystic","Shadow","Blaze","Storm","Ninja","Legend","Pro","Ace"];
const nouns = ["Panda","Tiger","Falcon","Wolf","Dragon","Phoenix","Samurai","Viper","Ghost","Rider"];
function generateNickname(){
  const name = $id('nick_name').value.trim();
  if(!name) return $id('nickname_result').innerText = "Enter your name";
  const adj = adjectives[Math.floor(Math.random()*adjectives.length)];
  const noun = nouns[Math.floor(Math.random()*nouns.length)];
  $id('nickname_result').innerText = `${adj}${noun}${name? ' '+name : ''}`;
}

/* Text Tools */
function upperText(){ $id('text_out').value = $id('text_in').value.toUpperCase(); }
function lowerText(){ $id('text_out').value = $id('text_in').value.toLowerCase(); }
function removeSpaces(){ $id('text_out').value = $id('text_in').value.replace(/\s+/g,' ').trim(); }

// Init
document.addEventListener('DOMContentLoaded', () => {
  openTab('home');
});
</script>
</body>
</html>
