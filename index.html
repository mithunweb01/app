<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="description" content="Mithun Multi-Tool App: a free, web-based toolkit with calculators, converters, number tools, quizzes and more ‚Äî all in one place for daily use.">

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mithun Multi-Tool App</title>

  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #7f7fff, #ff7f7f);
      color: white;
    }
    .tabs {
      display: flex;
      background: #000000aa;
      padding: 10px;
      gap: 10px;
      justify-content: center;
    }
    .tab-btn {
      background: #222;
      padding: 12px 18px;
      border-radius: 8px;
      cursor: pointer;
      color: white;
      border: 2px solid cyan;
      font-weight: bold;
    }
    .tab-btn:hover {
      background: cyan;
      color: black;
    }
    .tab-content {
      display: none;
      padding: 20px;
    }
    .active {
      display: block;
    }
    input, select, button, textarea {
      padding: 10px;
      margin: 5px;
      border-radius: 8px;
      border: none;
    }
    textarea { width: 95%; }
    button {
      cursor: pointer;
      font-weight: bold;
    }
    .result {
      margin-top: 15px;
      font-size: 20px;
      font-weight: bold;
      color: white;
    }
    .tool-box {
      background: rgba(255,255,255,0.9);
      color: black;
      padding: 15px;
      border-radius: 10px;
      margin-bottom: 20px;
    }
  </style>

<script>

/* ---------------- TAB FUNCTION ---------------- */
function openTab(tabName) {
  document.querySelectorAll(".tab-content").forEach(t => t.classList.remove("active"));
  document.getElementById(tabName).classList.add("active");
}

/* ---------------- NEW CAPITAL FINDER ---------------- */

// similarity for auto-correction
function similarity(a, b) {
  a = a.toLowerCase();
  b = b.toLowerCase();

  const matrix = Array.from({ length: a.length + 1 }, () =>
    new Array(b.length + 1).fill(0)
  );

  for (let i = 0; i <= a.length; i++) matrix[i][0] = i;
  for (let j = 0; j <= b.length; j++) matrix[0][j] = j;

  for (let i = 1; i <= a.length; i++) {
    for (let j = 1; j <= b.length; j++) {
      const cost = a[i - 1] === b[j - 1] ? 0 : 1;

      matrix[i][j] = Math.min(
        matrix[i - 1][j] + 1,
        matrix[i][j - 1] + 1,
        matrix[i - 1][j - 1] + cost
      );
    }
  }

  const maxLen = Math.max(a.length, b.length);
  return 1 - matrix[a.length][b.length] / maxLen;
}

async function findCapital() {
  const c = document.getElementById("countryInput").value.trim();
  const out = document.getElementById("capitalResult");

  if (!c) {
    out.innerText = "‚ùå Enter a country";
    return;
  }

  out.innerText = "Loading...";

  try {
    const res = await fetch("https://restcountries.com/v3.1/all?fields=name,capital,region,population");
    const data = await res.json();

    let best = null;
    let bestScore = 0;

    data.forEach(country => {
      const score = similarity(c, country.name.common);
      if (score > bestScore) {
        bestScore = score;
        best = country;
      }
    });

    if (!best) {
      out.innerText = "Country not found";
      return;
    }

    out.innerText =
      "Country: " + best.name.common +
      "\nCapital: " + (best.capital ? best.capital[0] : "No capital") +
      "\nRegion: " + best.region +
      "\nPopulation: " + best.population.toLocaleString();

  } catch {
    out.innerText = "‚ùå Error loading data";
  }
}

/* ---------------- NEW AI SOLUTION TAB ---------------- */

async function solveAI() {
  const q = document.getElementById("ai_question").value.trim();
  const out = document.getElementById("ai_result");

  if (!q) {
    out.innerText = "‚ùå Type a question";
    return;
  }

  out.innerText = "Thinking...";

  try {
    const response = await fetch("https://api.groq.com/openai/v1/chat/completions", {
      method: "POST",
      headers: {
        "Authorization": "Bearer  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",
        "Content-Type": "application/json"
      },
      body: JSON.stringify({
        model: "llama3-8b-8192",
        messages: [{ role: "user", content: q }]
      })
    });

    const data = await response.json();

    if (!data.choices) {
      out.innerText = "Error: " + JSON.stringify(data);
      return;
    }

    out.innerText = data.choices[0].message.content;

  } catch {
    out.innerText = "‚ùå AI server error";
  }
}

/* ---------------- EXISTING FUNCTIONS (UNCHANGED) ---------------- */
/* (Your entire original JavaScript is kept exactly same) */

function oddEven(){ let n = document.getElementById("oddInput").value; document.getElementById("oddResult").innerText = (n % 2 === 0) ? "Even" : "Odd"; }
function calculateOp(){ let a=parseFloat(numA.value), b=parseFloat(numB.value), op=opType.value, r; if(op==="+")r=a+b; if(op==="-")r=a-b; if(op==="*")r=a*b; if(op==="/")r=a/b; calcResult.innerText="Answer: "+r;}
function numberSeries(){ let s=parseInt(seriesStart.value), e=parseInt(seriesEnd.value), out=""; for(let i=s;i<=e;i++) out+=i+" "; seriesResult.innerText=out;}
function hcfLCM(m){ let n=multiNums.value.split(",").map(Number); function g(a,b){return b===0?a:g(b,a%b);} function l(a,b){return(a*b)/g(a,b);} let ans=n[0]; for(let i=1;i<n.length;i++) ans=m==="hcf"?g(ans,n[i]):l(ans,n[i]); hcfResult.innerText=m==="hcf"?"HCF = "+ans:"LCM = "+ans;}
function sqRoot(){ rootResult.innerText="‚àö = "+Math.sqrt(rootNum.value); }
function cubeRoot(){ rootResult.innerText="¬≥‚àö = "+Math.cbrt(rootNum.value); }
function factorial(){ let n=parseInt(factNum.value),f=1; for(let i=1;i<=n;i++)f*=i; factResult.innerText="Factorial = "+f; }
function primeCheck(){ let n=parseInt(primeNum.value); for(let i=2;i<=Math.sqrt(n);i++) if(n%i===0){primeResult.innerText="Not Prime";return;} primeResult.innerText="Prime";}

/* Life Tools (unchanged) */
function calculateAdvanced(){try{adv_result.innerText="Result: "+eval(adv_input.value);}catch{adv_result.innerText="Invalid Expression";}}
function calcPercentage(){let v=parseFloat(percent_value.value),t=parseFloat(percent_percent.value); if(isNaN(v)||isNaN(t)){percent_result.innerText="Enter valid numbers!";return;} percent_result.innerText="Percentage: "+((v/t)*100).toFixed(2)+"%";}
function convertCurrency(){const m=currency_type.value,a=parseFloat(currency_amount.value),r=83; currency_result.innerText=m==="inr_to_usd"?"USD: "+(a/r).toFixed(2):"INR: "+(a*r).toFixed(2);}
function calcLand(){let r=parseFloat(land_rate.value),a=parseFloat(land_sqft.value); if(isNaN(r)||isNaN(a)){land_result.innerText="Enter valid numbers!";return;} land_result.innerText="Total Land Cost: ‚Çπ"+(r*a).toLocaleString();}
function calcOldPercent(){percentResultOld.innerText="Result = "+(pBase.value*pPercent.value/100);}
function calcAge(){let b=new Date(dob.value),n=new Date(); ageResult.innerText="Age: "+(n.getFullYear()-b.getFullYear())+" years";}
function convertUnits(){let v=parseFloat(unitInput.value),t=unitType.value,res=""; if(t==="km-m")res=v*1000+" m"; if(t==="m-km")res=v/1000+" km"; if(t==="kg-g")res=v*1000+" g"; if(t==="g-kg")res=v/1000+" kg"; if(t==="c-f")res=v*9/5+32+" ¬∞F"; if(t==="f-c")res=(v-32)*5/9+" ¬∞C"; unitResult.innerText=res;}
function convertMoney(){currencyResult.innerText="USD ‚âà "+(inrInput.value/80).toFixed(2);}
function calcEMI(){let p=parseFloat(loan.value),r=rate.value/1200,n=months.value; emiResult.innerText="Monthly EMI = ‚Çπ"+(p*r*((1+r)**n)/(((1+r)**n)-1)).toFixed(2);}
function generatePass(){let c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789@#$%",p=""; for(let i=0;i<10;i++)p+=c[Math.floor(Math.random()*c.length)]; passResult.innerText=p;}
function submitQuiz(){let s=0;if(q1.value==="tajmahal")s++;if(q2.value==="Moscow")s++;if(q3.value==="droupatimurmu")s++; quizResult.innerText="Your Score: "+s+"/3";}

</script>

</head>
<body>

  <div class="tabs">
    <div class="tab-btn" onclick="openTab('home')">Home</div>
    <div class="tab-btn" onclick="openTab('capital')">Capital Finder</div>
    <div class="tab-btn" onclick="openTab('solution')">Solution</div>
    <div class="tab-btn" onclick="openTab('operations')">Operations</div>
    <div class="tab-btn" onclick="openTab('lifetools')">Life Tools</div>
    <div class="tab-btn" onclick="openTab('quiz')">Quiz</div>
  </div>

  <!-- HOME -->
  <div id="home" class="tab-content active">
    <h1 style="text-align:center;">Welcome Mithun üëã</h1>
  </div>

  <!-- NEW CAPITAL FINDER -->
  <div id="capital" class="tab-content">
    <h2>Capital Finder</h2>
    <input id="countryInput" placeholder="Enter country">
    <button onclick="findCapital()">Find</button>
    <div id="capitalResult" class="result"></div>
  </div>

  <!-- NEW SOLUTION TAB -->
  <div id="solution" class="tab-content">
    <h2>AI Solution</h2>
    <textarea id="ai_question" rows="4" placeholder="Type math or word problem..."></textarea>
    <button onclick="solveAI()">Solve with AI</button>
    <div id="ai_result" class="result"></div>
  </div>

  <!-- OPERATIONS (unchanged) -->
  <div id="operations" class="tab-content">
    <h2>Multi Operations</h2>

    <h3>Odd or Even</h3>
    <input id="oddInput">
    <button onclick="oddEven()">Check</button>
    <div id="oddResult" class="result"></div>

    <h3>Calculator</h3>
    <input id="numA">
    <select id="opType">
      <option>+</option><option>-</option><option>*</option><option>/</option>
    </select>
    <input id="numB">
    <button onclick="calculateOp()">Calculate</button>
    <div id="calcResult" class="result"></div>

    <h3>Number Series</h3>
    <input id="seriesStart">
    <input id="seriesEnd">
    <button onclick="numberSeries()">Generate</button>
    <div id="seriesResult" class="result"></div>

    <h3>HCF / LCM</h3>
    <input id="multiNums" placeholder="5,10,15">
    <button onclick="hcfLCM('hcf')">HCF</button>
    <button onclick="hcfLCM('lcm')">LCM</button>
    <div id="hcfResult" class="result"></div>

    <h3>Square / Cube Root</h3>
    <input id="rootNum">
    <button onclick="sqRoot()">‚àö</button>
    <button onclick="cubeRoot()">¬≥‚àö</button>
    <div id="rootResult" class="result"></div>

    <h3>Factorial</h3>
    <input id="factNum">
    <button onclick="factorial()">Find</button>
    <div id="factResult" class="result"></div>

    <h3>Prime Number</h3>
    <input id="primeNum">
    <button onclick="primeCheck()">Check</button>
    <div id="primeResult" class="result"></div>

  </div>

  <!-- LIFE TOOLS (unchanged) -->
  <div id="lifetools" class="tab-content">
    <h2>üìò Life Math Tools</h2>

    <div class="tool-box">
      <h3>Advanced Calculator</h3>
      <input id="adv_input" placeholder="5+7*3">
      <button onclick="calculateAdvanced()">Calculate</button>
      <p id="adv_result" class="result"></p>
    </div>

    <div class="tool-box">
      <h3>Percentage Calculator</h3>
      <input id="percent_value" placeholder="Value">
      <input id="percent_percent" placeholder="Total">
      <button onclick="calcPercentage()">Calculate</button>
      <p id="percent_result" class="result"></p>
    </div>

    <div class="tool-box">
      <h3>Currency Converter (INR ‚Üî USD)</h3>
      <input id="currency_amount" placeholder="Amount">
      <select id="currency_type">
        <option value="inr_to_usd">INR ‚Üí USD</option>
        <option value="usd_to_inr">USD ‚Üí INR</option>
      </select>
      <button onclick="convertCurrency()">Convert</button>
      <p id="currency_result" class="result"></p>
    </div>

    <div class="tool-box">
      <h3>Land Price Finder</h3>
      <input id="land_rate" placeholder="Rate per sq ft (‚Çπ)">
      <input id="land_sqft" placeholder="Total sq ft">
      <button onclick="calcLand()">Calculate</button>
      <p id="land_result" class="result"></p>
    </div>

    <!-- Old tools -->
    <div class="tool-box">
      <h3>Percentage (Old)</h3>
      <input id="pBase">
      <input id="pPercent">
      <button onclick="calcOldPercent()">Calculate</button>
      <p id="percentResultOld" class="result"></p>
    </div>

    <div class="tool-box">
      <h3>Age Calculator</h3>
      <input type="date" id="dob">
      <button onclick="calcAge()">Find Age</button>
      <p id="ageResult" class="result"></p>
    </div>

    <div class="tool-box">
      <h3>Unit Converter</h3>
      <input id="unitInput">
      <select id="unitType">
        <option value="km-m">Km ‚Üí Meter</option>
        <option value="m-km">Meter ‚Üí Km</option>
        <option value="kg-g">Kg ‚Üí Gram</option>
        <option value="g-kg">Gram ‚Üí Kg</option>
        <option value="c-f">C ‚Üí F</option>
        <option value="f-c">F ‚Üí C</option>
      </select>
      <button onclick="convertUnits()">Convert</button>
      <p id="unitResult" class="result"></p>
    </div>

    <div class="tool-box">
      <h3>Currency Converter (‚Çπ ‚Üí $)</h3>
      <input id="inrInput">
      <button onclick="convertMoney()">Convert</button>
      <p id="currencyResult" class="result"></p>
    </div>

    <div class="tool-box">
      <h3>EMI Calculator</h3>
      <input id="loan">
      <input id="rate">
      <input id="months">
      <button onclick="calcEMI()">Calculate EMI</button>
      <p id="emiResult" class="result"></p>
    </div>

    <div class="tool-box">
      <h3>Password Generator</h3>
      <button onclick="generatePass()">Generate</button>
      <p id="passResult" class="result"></p>
    </div>

  </div>

  <!-- QUIZ -->
  <div id="quiz" class="tab-content">
    <h2>Quiz Program</h2>

    <p>1. Which is a world wonder?</p>
    <select id="q1">
      <option value="tajmahal">Taj Mahal</option>
      <option value="effieltower">Eiffel Tower</option>
      <option value="collesium">Colosseum</option>
    </select>

    <p>2. Capital of Russia?</p>
    <select id="q2">
      <option value="Beijing">Beijing</option>
      <option value="Moscow">Moscow</option>
      <option value="NewDelhi">NewDelhi</option>
    </select>

    <p>3. Current President of India?</p>
    <select id="q3">
      <option value="droupatimurmu">Droupadi Murmu</option>
      <option value="modi">Modi</option>
      <option value="abdulkalam">Abdul Kalam</option>
    </select>

    <br><br>
    <button onclick="submitQuiz()">Submit</button>
    <div id="quizResult" class="result"></div>
  </div>

</body>
</html>
