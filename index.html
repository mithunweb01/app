<!DOCTYPE html>
<html lang='en'>
<head>
<meta charset='UTF-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0'>
<title>Mithun Multi-Tool App - Colorful Upgrade</title>

<script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.6/dist/JsBarcode.all.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/algebrite@1.3.1/dist/algebrite.min.js"></script>

<style>
:root {
Â  --bg1: #6a11cb;
Â  --bg2: #2575fc;
Â  --card: rgba(255,255,255,0.95);
Â  --text-dark: #000;
Â  --text-light: #fff;
Â  --accent: #00fff0;
}
body {
Â  margin:0;
Â  background: linear-gradient(135deg, var(--bg1), var(--bg2));
Â  font-family: Arial;
Â  color: var(--text-light);
}
/* top nav */
.tabs {
Â  display:flex;
Â  gap:10px;
Â  padding:12px;
Â  justify-content:center;
Â  background: rgba(0,0,0,0.3);
Â  backdrop-filter: blur(5px);
Â  position:sticky; /* Makes the tab bar stick to the top */
Â  top:0;
Â  z-index: 1000; /* Ensure it stays above other content */
}
.tab-btn {
Â  padding:10px 15px;
Â  border-radius:12px;
Â  background:rgba(255,255,255,0.1);
Â  color:white;
Â  cursor:pointer;
Â  font-weight:bold;
Â  border:2px solid var(--accent);
}
.tab-btn:hover {
Â  background:var(--accent);
Â  color:black;
}
.tab-content {
Â  display:none; padding:20px;
}
.active { display:block; }

/* tool cards */
.tool-box {
Â  background:var(--card);
Â  color:var(--text-dark);
Â  padding:15px;
Â  border-radius:12px;
Â  margin-bottom:20px;
Â  box-shadow:0 4px 15px rgba(0,0,0,0.2);
}

input,select,button,textarea {
Â  padding:10px;
Â  margin:5px;
Â  border-radius:8px;
Â  border:none;
}
button {
Â  background:var(--accent);
Â  color:#000;
Â  font-weight:bold;
Â  cursor:pointer;
}
button:hover { opacity:0.8; }

.result {
Â  margin-top:10px;
Â  padding:10px;
Â  background:#fff7c4;
Â  border-radius:10px;
Â  color:#000;
Â  font-weight:bold;
Â  white-space:pre-wrap;
}
</style>

<script>
function calcBMI(){let w=parseFloat(bmi_w.value),h=parseFloat(bmi_h.value)/100;if(!w||!h){bmi_out.innerText='Enter valid inputs';return;}bmi_out.innerText='BMI = '+(w/(h*h)).toFixed(2);}

function pickName(){let arr=name_list.value.split(',').map(s=>s.trim()).filter(Boolean);if(arr.length===0){pick_out.innerText='Enter names';return;}pick_out.innerText=arr[Math.floor(Math.random()*arr.length)];}

let sw=0,swInt;
function swStart(){clearInterval(swInt);swInt=setInterval(()=>{sw++;sw_out.innerText=(sw/100).toFixed(2)+'s';},10);}
function swStop(){clearInterval(swInt);}
function swReset(){sw=0;sw_out.innerText='0.00s';}

let tInt;
function startTimer(){let t=parseInt(timer_in.value);if(!t)return;clearInterval(tInt);timer_out.innerText=t+'s';tInt=setInterval(()=>{t--;timer_out.innerText=t+'s';if(t<=0){clearInterval(tInt);timer_out.innerText='Time Up!';}},1000);}

function saveNote(){localStorage.setItem('mithun_note',note_in.value);note_out.innerText='Saved';}
function loadNote(){note_in.value=localStorage.getItem('mithun_note')||'';note_out.innerText='Loaded';}

function upperText(){text_out.value=text_in.value.toUpperCase();}
function lowerText(){text_out.value=text_in.value.toLowerCase();}
function removeSpaces(){text_out.value=text_in.value.replace(/\s+/g,'');}

async function mergePDF(){
Â  let files=document.getElementById('pdf_in').files;
Â  if(files.length<2){alert('Select 2+ PDFs');return;}
Â  alert('PDF Merging is a complex task that typically requires a backend server or a large JavaScript library (like PDF-lib) not included here. This function is a placeholder.');
Â  // The original code was a simplification and would not produce a correctly merged PDF
Â  /*
Â  let bufs=[];for(let f of files)bufs.push(await f.arrayBuffer());
Â  let merged=new Blob(bufs,{type:"application/pdf"});
Â  let a=document.createElement('a');a.href=URL.createObjectURL(merged);a.download='merged.pdf';a.click();
Â  */
}

// Fixed QR CODE MAKER - Removed the duplicate function definition
function makeQR(){
Â  let t = document.getElementById('qr_text').value.trim();
Â  let qr_box = document.getElementById('qr_box');
Â  if(!t){ qr_box.innerHTML = 'Enter text'; return; }
Â  let url = "https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=" + encodeURIComponent(t);
Â  qr_box.innerHTML = "<img src='" + url + "' width='200' height='200' alt='QR Code'>";
}

/* ---------- BARCODE GENERATOR ---------- */
function makeBarcode(){
Â  // Requires the JsBarcode library included in the head
Â  let val = barcode_text.value.trim();
Â  if(!val){ alert("Enter number"); return; }
Â  try {
Â  Â  JsBarcode("#barcode_svg", val, { format: "CODE128", displayValue: true });
Â  Â  document.getElementById('barcode_box').style.display = 'block';
Â  } catch (e) {
Â  Â  document.getElementById('barcode_box').innerHTML = "Error: Check console (requires a number or valid barcode format)";
Â  }
}

/* ---------- IP FINDER ---------- */
function getIP(){
Â  fetch("https://api.ipify.org?format=json")
Â  .then(r => r.json())
Â  .then(d => ip_box.innerHTML = "Your IP: <b>" + d.ip + "</b>")
Â  .catch(()=> ip_box.innerHTML = "Error fetching IP");
}

/* ---------- DEVICE INFO ---------- */
function getDeviceInfo(){
Â  const info = `
Â  Â  <b>User Agent:</b> ${navigator.userAgent}<br>
Â  Â  <b>Platform:</b> ${navigator.platform}<br>
Â  Â  <b>Language:</b> ${navigator.language}<br>
Â  Â  <b>Online:</b> ${navigator.onLine}<br>
Â  Â  <b>Screen:</b> ${screen.width} Ã— ${screen.height}
Â  `;
Â  device_box.innerHTML = info;
}

/* ---------- PASSWORD STRENGTH ---------- */
function checkPwd(){
Â  let pwd = pwd_input.value;
Â  if(!pwd){ pwd_box.innerHTML = "Enter password"; return; }

Â  let score = 0;
Â  if(pwd.length >= 8) score++;
Â  if(/[A-Z]/.test(pwd)) score++;
Â  if(/[0-9]/.test(pwd)) score++;
Â  if(/[^A-Za-z0-9]/.test(pwd)) score++;

Â  const levels = ["Very Weak", "Weak", "Medium", "Strong", "Very Strong"];
Â  pwd_box.innerHTML = "Strength: <b>" + levels[score] + "</b>";
}

function openTab(t){
Â  document.querySelectorAll('.tab-content').forEach(x=>x.classList.remove('active'));
Â  document.getElementById(t).classList.add('active');
}

function similarity(a,b){
Â  a=a.toLowerCase(); b=b.toLowerCase();
Â  const m=Array.from({length:a.length+1},()=>Array(b.length+1).fill(0));
Â  for(let i=0;i<=a.length;i++)m[i][0]=i;
Â  for(let j=0;j<=b.length;j++)m[0][j]=j;
Â  for(let i=1;i<=a.length;i++){
Â  Â  for(let j=1;j<=b.length;j++){
Â  Â  Â  const c=a[i-1]===b[j-1]?0:1;
Â  Â  Â  m[i][j]=Math.min(m[i-1][j]+1,m[i][j-1]+1,m[i-1][j-1]+c);
Â  Â  }
Â  }
Â  return 1 - m[a.length][b.length]/Math.max(a.length,b.length);
}

async function findCapital(){
Â  const c=document.getElementById('countryInput').value.trim();
Â  const out=document.getElementById('capitalResult');
Â  if(!c) return out.innerText='Enter a country';
Â  out.innerText='Loading...';
Â  try{
Â  Â  const r=await fetch('https://restcountries.com/v3.1/all?fields=name,capital,region,population');
Â  Â  const d=await r.json();
Â  Â  let best=null,score=0;
Â  Â  d.forEach(k=>{
Â  Â  Â  let s=similarity(c,k.name.common);
Â  Â  Â  if(s>score){score=s; best=k;}
Â  Â  });
Â  Â  out.innerText =
Â  Â  Â  "Country: "+best.name.common+
Â  Â  Â  "\nCapital: "+(best.capital?best.capital[0]:"None")+
Â  Â  Â  "\nRegion: "+best.region+
Â  Â  Â  "\nPopulation: "+(best.population ? best.population.toLocaleString() : 'N/A'); // Added check for population
Â  } catch { out.innerText='Error fetching data'; }
}

function solveAlgebra(){
Â  // Requires the Algebrite library included in the head
Â  const q=document.getElementById('ai_question').value.trim();
Â  const out=document.getElementById('ai_result');
Â  if(!q) return out.innerText='Type an equation';
Â  try{
Â  Â  out.innerText = Algebrite.run(q);
Â  }catch(e){ out.innerText='Unable to solve: '+e.message; } // Added error message
}

function oddEven(){ let n=oddInput.value; oddResult.innerText = (n%2===0?'Even':'Odd'); }
function calculateOp(){ let a=parseFloat(numA.value),b=parseFloat(numB.value),op=opType.value,r;
Â  if(op==='+')r=a+b; if(op==='-')r=a-b; if(op==='*')r=a*b; if(op==='/')r=a/b;
Â  calcResult.innerText='Answer: '+r;
}
function numberSeries(){ let s=parseInt(seriesStart.value),e=parseInt(seriesEnd.value),o=''; for(let i=s;i<=e;i++)o+=i+' '; seriesResult.innerText=o; }
function hcfLCM(m){
Â  let n=multiNums.value.split(',').map(Number);
Â  function g(a,b){return b===0?a:g(b,a%b);}
Â  function l(a,b){return(a*b)/g(a,b);}
Â  let ans=n[0];
Â  for(let i=1;i<n.length;i++) ans=(m==='hcf'?g(ans,n[i]):l(ans,n[i]));
Â  hcfResult.innerText = (m==='hcf'?'HCF = ':'LCM = ')+ans;
}
function sqRoot(){ rootResult.innerText='âˆš = '+Math.sqrt(rootNum.value); }
function cubeRoot(){ rootResult.innerText='Â³âˆš = '+Math.cbrt(rootNum.value); }
function factorial(){ let n=parseInt(factNum.value),f=1; for(let i=1;i<=n;i++)f*=i; factResult.innerText='Factorial = '+f; }
function primeCheck(){ let n=parseInt(primeNum.value); for(let i=2;i<=Math.sqrt(n);i++) if(n%i===0) return primeResult.innerText='Not Prime'; primeResult.innerText='Prime';}

function calculateAdvanced(){ try{adv_result.innerText='Result: '+eval(adv_input.value);}catch{adv_result.innerText='Invalid Expression';}}
function calcPercentage(){let v=parseFloat(percent_value.value),t=parseFloat(percent_percent.value); percent_result.innerText = (v/t*100).toFixed(2)+'%';}
function convertCurrency(){const m=currency_type.value,a=parseFloat(currency_amount.value),r=83; currency_result.innerText = (m==='inr_to_usd'?'USD: '+(a/r).toFixed(2):'INR: '+(a*r).toFixed(2));}
function calcLand(){land_result.innerText='Total = â‚¹'+(land_rate.value*land_sqft.value).toLocaleString();}
function calcOldPercent(){percentResultOld.innerText='Result = '+(pBase.value*pPercent.value/100);}
function calcAge(){let b=new Date(dob.value),n=new Date(); ageResult.innerText='Age: '+(n.getFullYear()-b.getFullYear());}
function convertUnits(){
Â  let v=parseFloat(unitInput.value),t=unitType.value,res='';
Â  if(t==='km-m')res=v*1000+' m';
Â  if(t==='m-km')res=v/1000+' km';
Â  if(t==='kg-g')res=v*1000+' g';
Â  if(t==='g-kg')res=v/1000+' kg';
Â  if(t==='c-f')res=v*9/5+32+' Â°F';
Â  if(t==='f-c')res=(v-32)*5/9+' Â°C';
Â  unitResult.innerText=res;
}
function convertMoney(){currencyResult.innerText='USD â‰ˆ '+(inrInput.value/80).toFixed(2);}
function calcEMI(){let p=parseFloat(loan.value),r=rate.value/1200,n=months.value; emiResult.innerText='EMI = â‚¹'+(p*r*((1+r)**n)/(((1+r)**n)-1)).toFixed(2);}
function generatePass(){let c='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789@#$%',p=''; for(let i=0;i<10;i++)p+=c[Math.floor(Math.random()*c.length)]; passResult.innerText=p;}
function submitQuiz(){
Â  let s=0; if(q1.value==='tajmahal')s++; if(q2.value==='Moscow')s++; if(q3.value==='droupatimurmu')s++;
Â  quizResult.innerText='Score: '+s+'/3';
}
</script>

</head>
<body>

<div class='tabs'>
Â  <div class='tab-btn' onclick="openTab('home')">Home</div>
Â  <div class='tab-btn' onclick="openTab('smarttools')">Smart Tools</div>
Â  <div class='tab-btn' onclick="openTab('capital')">Capital</div>
Â  <div class='tab-btn' onclick="openTab('solution')">Algebra</div>
Â  <div class='tab-btn' onclick="openTab('operations')">Operations</div>
Â  <div class='tab-btn' onclick="openTab('lifetools')">Life Tools</div>
Â  <div class='tab-btn' onclick="openTab('quiz')">Quiz</div>
</div>

<div id='home' class='tab-content active'>
Â  <h1>Welcome Mithun ðŸ‘‹</h1>
Â  Â  Â  <div class="tool-box">
Â  Â  <h3>Text Tools</h3>
Â  Â  <textarea id="text_in"></textarea>
Â  Â  <button onclick="upperText()">UPPERCASE</button>
Â  Â  <button onclick="lowerText()">lowercase</button>
Â  Â  <button onclick="removeSpaces()">Remove Spaces</button>
Â  Â  <textarea id="text_out" class="result"></textarea>
Â  </div>
</div>

<div id="smarttools" class="tab-content">
Â  <h2>Smart Tools Collection</h2>
Â  
Â  Â  <div class="tool-box">
Â  Â  <h3>QR Code Maker</h3>
Â  Â  <input id="qr_text" placeholder="Enter text or URL">
Â  Â  <button onclick="makeQR()">Generate</button>
Â  Â  Â  Â  <div id="qr_box" class="result" style="text-align:center; min-height: 50px;"></div>
Â  </div>

Â  Â  <div class="tool-box">
Â  Â  <h3>Random Name Picker</h3>
Â  Â  <textarea id="name_list" placeholder="Names separated by commas"></textarea>
Â  Â  <button onclick="pickName()">Pick</button>
Â  Â  <div id="pick_out" class="result"></div>
Â  </div>

Â  Â  <div class="tool-box">
Â  Â  <h3>PDF Merger (Requires Library)</h3>
Â  Â  <input type="file" id="pdf_in" multiple accept="application/pdf">
Â  Â  <button onclick="mergePDF()">Merge</button>
Â  Â  <div class="result">Note: This is a placeholder as merging PDFs client-side is complex.</div>
Â  </div>
Â  
Â  Â  <div class="tool-box">
Â  Â  <h3>Timer</h3>
Â  Â  <input id="timer_in" type="number" placeholder="Seconds">
Â  Â  <button onclick="startTimer()">Start</button>
Â  Â  <div id="timer_out" class="result"></div>
Â  </div>
Â  
Â  Â  <div class="tool-box">
Â  Â  <h3>Stopwatch</h3>
Â  Â  <div id="sw_out" class="result">0.00s</div>
Â  Â  <button onclick="swStart()">Start</button>
Â  Â  <button onclick="swStop()">Stop</button>
Â  Â  <button onclick="swReset()">Reset</button>
Â  </div>

Â  Â  <div class="tool-box">
Â  Â  <h3>Notes App (Local Storage)</h3>
Â  Â  <textarea id="note_in" rows="4" placeholder="Type your notes here..."></textarea>
Â  Â  <button onclick="saveNote()">Save</button>
Â  Â  <button onclick="loadNote()">Load</button>
Â  Â  <div id="note_out" class="result"></div>
Â  </div>

Â  Â  <div class="tool-box">
Â  Â  <h3>Barcode Generator</h3>
Â  Â  <input id="barcode_text" placeholder="Enter number (e.g., 123456789012)">
Â  Â  <button onclick="makeBarcode()">Generate</button>
Â  Â  <div id="barcode_box" class="result" style="display:none; text-align:center;">
Â  Â  Â  <svg id="barcode_svg"></svg>
Â  Â  </div>
Â  </div>

Â  Â  <div class="tool-box">
Â  Â  <h3>Your IP Finder</h3>
Â  Â  <button onclick="getIP()">Show My IP</button>
Â  Â  <div id="ip_box" class="result"></div>
Â  </div>

Â  <div class="tool-box">
Â  Â  <h3>Device Info</h3>
Â  Â  <button onclick="getDeviceInfo()">Show Device Info</button>
Â  Â  <div id="device_box" class="result"></div>
Â  </div>

Â  <div class="tool-box">
Â  Â  <h3>Password Strength Checker</h3>
Â  Â  <input id="pwd_input" type="password" placeholder="Enter password">
Â  Â  <button onclick="checkPwd()">Check</button>
Â  Â  <div id="pwd_box" class="result"></div>
Â  </div>
</div>
<div id='capital' class='tab-content'>
Â  <div class='tool-box'>
Â  Â  <h2>Capital Finder</h2>
Â  Â  <input id='countryInput' placeholder='Enter country'>
Â  Â  <button onclick='findCapital()'>Find</button>
Â  Â  <div id='capitalResult' class='result'></div>
Â  </div>
</div>

<div id='solution' class='tab-content'>
Â  <div class='tool-box'>
Â  Â  <h2>Algebra Solver</h2>
Â  Â  <textarea id='ai_question' rows='4' placeholder='solve(x+y=10,x-y=2)'></textarea>
Â  Â  <button onclick='solveAlgebra()'>Solve</button>
Â  Â  <div id='ai_result' class='result'></div>
Â  </div>
</div>

<div id='operations' class='tab-content'>
Â  <div class='tool-box'><h3>Odd / Even</h3><input id='oddInput' type='number'><button onclick='oddEven()'>Check</button><div id='oddResult' class='result'></div></div>

Â  <div class='tool-box'><h3>Calculator</h3><input id='numA' type='number'><select id='opType'><option>+</option><option>-</option><option>*</option><option>/</option></select><input id='numB' type='number'><button onclick='calculateOp()'>Calc</button><div id='calcResult' class='result'></div></div>

Â  <div class='tool-box'><h3>Number Series</h3><input id='seriesStart' type='number' placeholder='Start'><input id='seriesEnd' type='number' placeholder='End'><button onclick='numberSeries()'>Generate</button><div id='seriesResult' class='result'></div></div>

Â  <div class='tool-box'><h3>HCF / LCM</h3><input id='multiNums' placeholder='5,10,15'><button onclick='hcfLCM("hcf")'>HCF</button><button onclick='hcfLCM("lcm")'>LCM</button><div id='hcfResult' class='result'></div></div>

Â  <div class='tool-box'><h3>Roots</h3><input id='rootNum' type='number'><button onclick='sqRoot()'>âˆš</button><button onclick='cubeRoot()'>Â³âˆš</button><div id='rootResult' class='result'></div></div>

Â  <div class='tool-box'><h3>Factorial</h3><input id='factNum' type='number'><button onclick='factorial()'>Find</button><div id='factResult' class='result'></div></div>

Â  <div class='tool-box'><h3>Prime Check</h3><input id='primeNum' type='number'><button onclick='primeCheck()'>Check</button><div id='primeResult' class='result'></div></div>
</div>

<div id='lifetools' class='tab-content'>
Â  Â  <div class="tool-box">
Â  Â  <h3>BMI Calculator</h3>
Â  Â  <input id="bmi_w" placeholder="Weight (kg)" type='number'>
Â  Â  <input id="bmi_h" placeholder="Height (cm)" type='number'>
Â  Â  <button onclick="calcBMI()">Calculate</button>
Â  Â  <div id="bmi_out" class="result"></div>
Â  </div>

Â  <div class='tool-box'><h3>Advanced Calc</h3><input id='adv_input'><button onclick='calculateAdvanced()'>Calculate</button><div id='adv_result' class='result'></div></div>

Â  <div class='tool-box'><h3>Percentage</h3><input id='percent_value' type='number' placeholder='Value'><input id='percent_percent' type='number' placeholder='Total'><button onclick='calcPercentage()'>Calc</button><div id='percent_result' class='result'></div></div>

Â  <div class='tool-box'><h3>Currency</h3><input id='currency_amount' type='number'><select id='currency_type'><option value='inr_to_usd'>INRâ†’USD</option><option value='usd_to_inr'>USDâ†’INR</option></select><button onclick='convertCurrency()'>Convert</button><div id='currency_result' class='result'></div></div>

Â  <div class='tool-box'><h3>Land Price</h3><input id='land_rate' type='number' placeholder='Rate'><input id='land_sqft' type='number' placeholder='Sq. Ft.'><button onclick='calcLand()'>Calc</button><div id='land_result' class='result'></div></div>

Â  <div class='tool-box'><h3>Old %</h3><input id='pBase' type='number' placeholder='Base'><input id='pPercent' type='number' placeholder='Percent'><button onclick='calcOldPercent()'>Calc</button><div id='percentResultOld' class='result'></div></div>

Â  <div class='tool-box'><h3>Age</h3><input type='date' id='dob'><button onclick='calcAge()'>Find</button><div id='ageResult' class='result'></div></div>

Â  <div class='tool-box'><h3>Unit Convert</h3><input id='unitInput' type='number'><select id='unitType'><option value='km-m'>Kmâ†’m</option><option value='m-km'>mâ†’Km</option><option value='kg-g'>Kgâ†’g</option><option value='g-kg'>gâ†’Kg</option><option value='c-f'>Câ†’F</option><option value='f-c'>Fâ†’C</option></select><button onclick='convertUnits()'>Convert</button><div id='unitResult' class='result'></div></div>

Â  <div class='tool-box'><h3>â‚¹â†’$</h3><input id='inrInput' type='number' placeholder='INR Amount'><button onclick='convertMoney()'>Convert</button><div id='currencyResult' class='result'></div></div>

Â  <div class='tool-box'><h3>EMI</h3><input id='loan' type='number' placeholder='Loan Amt'><input id='rate' type='number' placeholder='Rate %'><input id='months' type='number' placeholder='Months'><button onclick='calcEMI()'>Calculate</button><div id='emiResult' class='result'></div></div>

Â  <div class='tool-box'><h3>Password</h3><button onclick='generatePass()'>Generate</button><div id='passResult' class='result'></div></div>
</div>

<div id='quiz' class='tab-content'>
Â  <div class='tool-box'>
Â  Â  <h3>Quiz</h3>
Â  Â  <p>1. World wonder?</p>
Â  Â  <select id='q1'><option value='tajmahal'>Taj Mahal</option><option value='eff'>Eiffel Tower</option></select>

Â  Â  <p>2. Capital of Russia?</p>
Â  Â  <select id='q2'><option value='Beijing'>Beijing</option><option value='Moscow'>Moscow</option></select>

Â  Â  <p>3. President of India?</p>
Â  Â  <select id='q3'><option value='droupatimurmu'>Droupadi Murmu</option><option value='modi'>Modi</option></select>

Â  Â  <button onclick='submitQuiz()'>Submit</button>
Â  Â  <div id='quizResult' class='result'></div>
Â  </div>
</div>

</body>
</html>
