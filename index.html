<!DOCTYPE html>
<html lang='en'>
<head>
<meta charset='UTF-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0'>
<title>Mithun Multi-Tool App</title>

<script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.6/dist/JsBarcode.all.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/algebrite@1.3.1/dist/algebrite.min.js"></script>

<style>
:root {
  --bg1: #ff5f6d;
  --bg2: #ffc371;
  --card: rgba(255,255,255,0.95);
  --text-dark: #000;
  --text-light: #fff;
  --accent: #2196F3;
}
body {
  margin:0;
  background: linear-gradient(135deg, var(--bg1), var(--bg2));
  font-family: Arial, sans-serif;
  color: var(--text-light);
}
.tabs {
  display:flex;
  gap:10px;
  padding:12px;
  justify-content:center;
  background: rgba(0,0,0,0.4);
  backdrop-filter: blur(5px);
  position:sticky;
  top:0;
  z-index: 1000;
}
.tab-btn {
  padding:10px 15px;
  border-radius:12px;
  background:rgba(255,255,255,0.2);
  color:white;
  cursor:pointer;
  font-weight:bold;
  border:2px solid var(--accent);
  transition: all 0.3s;
}
.tab-btn:hover, .tab-btn.active-tab {
  background:var(--accent);
  color:white;
  box-shadow: 0 0 10px var(--accent);
}
.tab-content { display:none; padding:20px; }
.active { display:block; }

.tool-box {
  background:var(--card);
  color:var(--text-dark);
  padding:15px;
  border-radius:12px;
  margin-bottom:20px;
  box-shadow:0 8px 20px rgba(0,0,0,0.3);
}

input,select,button,textarea {
  padding:10px;
  margin:5px;
  border-radius:8px;
  border:1px solid #ccc;
}
button {
  background:var(--accent);
  color:#fff;
  font-weight:bold;
  cursor:pointer;
  border:none;
  transition: .2s;
}
button:hover { opacity:0.9; background-color:#007bb2; }

.result {
  margin-top:10px;
  padding:10px;
  background:#f0f8ff;
  border-radius:10px;
  color:#000;
  font-weight:bold;
  white-space:pre-wrap;
  border-left:5px solid var(--accent);
}
</style>

<script>
function openTab(t, element) {
  document.querySelectorAll('.tab-content').forEach(x => x.classList.remove('active'));
  document.querySelectorAll('.tab-btn').forEach(x => x.classList.remove('active-tab'));
  document.getElementById(t).classList.add('active');
  element.classList.add('active-tab');
}

window.onload = function() {
  const homeButton = document.querySelector(`.tab-btn[onclick*="home"]`);
  openTab("home", homeButton);
};

/* -------- core functions here (same as your code, no changes) -------- */
</head>
<body>

<div class='tabs'>
  <div class='tab-btn' onclick="openTab('home', this)">Home</div>
  <div class='tab-btn' onclick="openTab('smarttools', this)">Smart Tools</div>
  <div class='tab-btn' onclick="openTab('capital', this)">Capital Finder</div>
  <div class='tab-btn' onclick="openTab('solution', this)">Algebra Solver</div>
  <div class='tab-btn' onclick="openTab('operations', this)">Operations</div>
  <div class='tab-btn' onclick="openTab('lifetools', this)">Life Tools</div>
  <div class='tab-btn' onclick="openTab('quiz', this)">Quiz</div>
</div>

<div id='home' class='tab-content'>
  <h1>Welcome Mithun ðŸ‘‹</h1>
  <div class="tool-box">
    <h3>Text Tools</h3>
    <textarea id="text_in" rows="5" placeholder="Type text here..."></textarea>
    <button onclick="upperText()">UPPERCASE</button>
    <button onclick="lowerText()">lowercase</button>
    <button onclick="removeSpaces()">Remove Spaces</button>
    <textarea id="text_out" class="result" rows="5" readonly></textarea>
  </div>
</div>
<div id="smarttools" class="tab-content">
  <h2>Smart Tools Collection</h2>

  <div class="tool-box">
    <h3>QR Code Maker</h3>
    <input id="qr_text" placeholder="Enter text or URL">
    <button onclick="makeQR()">Generate</button>
    <div id="qr_box" class="result" style="text-align:center;"></div>
  </div>

  <div class="tool-box">
    <h3>Barcode Generator</h3>
    <input id="barcode_text" placeholder="Enter number">
    <button onclick="makeBarcode()">Generate</button>
    <div id="barcode_box" class="result" style="display:none;text-align:center;">
      <svg id="barcode_svg"></svg>
    </div>
  </div>

  <div class="tool-box">
    <h3>Your IP Finder</h3>
    <button onclick="getIP()">Show My IP</button>
    <div id="ip_box" class="result"></div>
  </div>

  <div class="tool-box">
    <h3>Device Info</h3>
    <button onclick="getDeviceInfo()">Show Device Info</button>
    <div id="device_box" class="result"></div>
  </div>

  <div class="tool-box">
    <h3>Password Strength Checker</h3>
    <input id="pwd_input" type="password">
    <button onclick="checkPwd()">Check</button>
    <div id="pwd_box" class="result"></div>
  </div>

  <div class="tool-box">
    <h3>Random Name Picker</h3>
    <textarea id="name_list" placeholder="Names separated by commas"></textarea>
    <button onclick="pickName()">Pick</button>
    <div id="pick_out" class="result"></div>
  </div>

  <div class="tool-box">
    <h3>Timer</h3>
    <input id="timer_in" type="number" placeholder="Seconds">
    <button onclick="startTimer()">Start</button>
    <div id="timer_out" class="result"></div>
  </div>

  <div class="tool-box">
    <h3>Stopwatch</h3>
    <div id="sw_out" class="result">0.00s</div>
    <button onclick="swStart()">Start</button>
    <button onclick="swStop()">Stop</button>
    <button onclick="swReset()">Reset</button>
  </div>

  <div class="tool-box">
    <h3>Notes App</h3>
    <textarea id="note_in" rows="4"></textarea>
    <button onclick="saveNote()">Save</button>
    <button onclick="loadNote()">Load</button>
    <div id="note_out" class="result"></div>
  </div>

</div>
<div id="capital" class="tab-content">
  <h2>Capital Finder</h2>
  <div class="tool-box">
    <input id="country_in" placeholder="Enter country">
    <button onclick="findCapital()">Find Capital</button>
    <div id="capital_out" class="result"></div>
  </div>
</div>
<div id="solution" class="tab-content">
  <h2>Algebra Solver</h2>
  <div class="tool-box">
    <input id="alg_in" placeholder="Equation (ex: 2x+3=15)">
    <button onclick="solveAlg()">Solve</button>
    <div id="alg_out" class="result"></div>
  </div>
</div>
<div id="operations" class="tab-content">
  <h2>Math Operations</h2>

  <div class="tool-box">
    <h3>Basic Calculator</h3>
    <input id="n1" type="number" placeholder="Number 1">
    <input id="n2" type="number" placeholder="Number 2">
    <button onclick="calc('+')">+</button>
    <button onclick="calc('-')">-</button>
    <button onclick="calc('*')">*</button>
    <button onclick="calc('/')">/</button>
    <div id="calc_out" class="result"></div>
  </div>

  <div class="tool-box">
    <h3>LCM / HCF</h3>
    <input id="lcm_in" placeholder="Numbers separated by commas (ex 4,6,8)">
    <button onclick="calcLCM()">LCM</button>
    <button onclick="calcHCF()">HCF</button>
    <div id="lcm_out" class="result"></div>
  </div>

  <div class="tool-box">
    <h3>Prime Checker</h3>
    <input id="prime_in" type="number" placeholder="Enter number">
    <button onclick="checkPrime()">Check</button>
    <div id="prime_out" class="result"></div>
  </div>

</div>
<div id="lifetools" class="tab-content">
  <h2>Life Tools</h2>

  <div class="tool-box">
    <h3>BMI Calculator</h3>
    <input id="bmi_w" type="number" placeholder="Weight (kg)">
    <input id="bmi_h" type="number" placeholder="Height (m)">
    <button onclick="calcBMI()">Calculate</button>
    <div id="bmi_out" class="result"></div>
  </div>

  <div class="tool-box">
    <h3>Age Calculator</h3>
    <input id="dob" type="date">
    <button onclick="calcAge()">Calculate</button>
    <div id="age_out" class="result"></div>
  </div>

  <div class="tool-box">
    <h3>Currency Converter (INR â‡„ USD)</h3>
    <input id="cur_in" type="number" placeholder="Enter amount">
    <select id="cur_type">
      <option value="inr">INR â†’ USD</option>
      <option value="usd">USD â†’ INR</option>
    </select>
    <button onclick="convertCurrency()">Convert</button>
    <div id="cur_out" class="result"></div>
  </div>

  <div class="tool-box">
    <h3>EMI Calculator</h3>
    <input id="emi_p" type="number" placeholder="Loan Amount">
    <input id="emi_r" type="number" placeholder="Interest (%)">
    <input id="emi_t" type="number" placeholder="Months">
    <button onclick="calcEMI()">Calculate</button>
    <div id="emi_out" class="result"></div>
  </div>

  <div class="tool-box">
    <h3>Password Generator</h3>
    <button onclick="makePassword()">Generate Strong Password</button>
    <div id="pass_out" class="result"></div>
  </div>

</div>
<div id="quiz" class="tab-content">
  <h2>Math Quiz</h2>

  <div class="tool-box">
    <h3>Random Question</h3>
    <button onclick="newQuestion()">Generate</button>
    <div id="q_out" class="result"></div>

    <input id="q_ans" placeholder="Your answer">
    <button onclick="checkAns()">Submit</button>

    <div id="q_res" class="result"></div>
  </div>
</div>
<script>
/* ---------- TEXT TOOLS ---------- */
function upperText(){ text_out.value = text_in.value.toUpperCase(); }
function lowerText(){ text_out.value = text_in.value.toLowerCase(); }
function removeSpaces(){ text_out.value = text_in.value.replace(/\s+/g," ").trim(); }

/* ---------- QR ---------- */
function makeQR(){
  qr_box.innerHTML = "";
  let img = document.createElement("img");
  img.src = "https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=" + encodeURIComponent(qr_text.value);
  qr_box.appendChild(img);
}

/* ---------- BARCODE ---------- */
function makeBarcode(){
  JsBarcode("#barcode_svg", barcode_text.value);
  barcode_box.style.display = "block";
}

/* ---------- IP FINDER ---------- */
async function getIP(){
  let r = await fetch("https://api.ipify.org/?format=json");
  let d = await r.json();
  ip_box.innerText = "Your IP: " + d.ip;
}

/* ---------- DEVICE INFO ---------- */
function getDeviceInfo(){
  let d = navigator;
  device_box.innerText =
    "Browser: " + d.userAgent + "\n" +
    "Language: " + d.language + "\n" +
    "Online: " + d.onLine;
}

/* ---------- PASSWORD STRENGTH ---------- */
function checkPwd(){
  let p = pwd_input.value;
  let s = 0;
  if(p.length >= 8) s++;
  if(/[A-Z]/.test(p)) s++;
  if(/[0-9]/.test(p)) s++;
  if(/[^A-Za-z0-9]/.test(p)) s++;

  let text = ["Very Weak","Weak","Medium","Strong","Very Strong"][s];
  pwd_box.innerText = "Strength: " + text;
}

/* ---------- RANDOM NAME PICKER ---------- */
function pickName(){
  let arr = name_list.value.split(",").map(x=>x.trim()).filter(x=>x);
  if(arr.length===0) return pick_out.innerText="Enter names!";
  pick_out.innerText = "Winner: " + arr[Math.floor(Math.random()*arr.length)];
}

/* ---------- TIMER ---------- */
function startTimer(){
  let t = Number(timer_in.value);
  timer_out.innerText = "Time: " + t;
  let x = setInterval(()=>{
    t--;
    timer_out.innerText = "Time: " + t;
    if(t<=0) clearInterval(x);
  },1000);
}

/* ---------- STOPWATCH ---------- */
let sw=0, swInt;
function swStart(){ swInt = setInterval(()=>{ sw+=0.1; sw_out.innerText = sw.toFixed(2)+"s"; },100); }
function swStop(){ clearInterval(swInt); }
function swReset(){ sw=0; sw_out.innerText = "0.00s"; }

/* ---------- NOTES ---------- */
function saveNote(){ localStorage.setItem("note", note_in.value); }
function loadNote(){ note_out.innerText = localStorage.getItem("note") || "No saved notes."; }

/* ---------- CAPITAL FINDER ---------- */
const capitals = {
  india:"New Delhi", usa:"Washington DC", japan:"Tokyo", france:"Paris",
  china:"Beijing", russia:"Moscow", uk:"London", germany:"Berlin"
};
function findCapital(){
  let c = country_in.value.toLowerCase().trim();
  capital_out.innerText = capitals[c] || "Not found";
}

/* ---------- ALGEBRA SOLVER ---------- */
function solveAlg(){
  try{
    let r = Algebrite.run("solve(" + alg_in.value + ")");
    alg_out.innerText = r;
  }catch(e){ alg_out.innerText = "Invalid equation"; }
}

/* ---------- BASIC CALCULATOR ---------- */
function calc(op){
  let a = Number(n1.value), b = Number(n2.value);
  calc_out.innerText = eval(a + op + b);
}

/* ---------- LCM / HCF ---------- */
function gcd(a,b){ return b?gcd(b,a%b):a; }
function lcm(a,b){ return a*b/gcd(a,b); }

function calcLCM(){
  let arr = lcm_in.value.split(",").map(x=>Number(x.trim()));
  let ans = arr.reduce((a,b)=>lcm(a,b));
  lcm_out.innerText = ans;
}
function calcHCF(){
  let arr = lcm_in.value.split(",").map(x=>Number(x.trim()));
  let ans = arr.reduce((a,b)=>gcd(a,b));
  lcm_out.innerText = ans;
}

/* ---------- PRIME CHECK ---------- */
function checkPrime(){
  let n = Number(prime_in.value);
  if(n<2) return prime_out.innerText="Not Prime";
  for(let i=2;i<=Math.sqrt(n);i++) if(n%i===0) return prime_out.innerText="Not Prime";
  prime_out.innerText="Prime";
}

/* ---------- BMI ---------- */
function calcBMI(){
  let bmi = bmi_w.value / (bmi_h.value**2);
  bmi_out.innerText = "BMI: " + bmi.toFixed(2);
}

/* ---------- AGE ---------- */
function calcAge(){
  let d = new Date(dob.value);
  let diff = Date.now() - d.getTime();
  let age = new Date(diff).getUTCFullYear() - 1970;
  age_out.innerText = "Age: " + age;
}

/* ---------- CURRENCY ---------- */
function convertCurrency(){
  let v = Number(cur_in.value);
  let t = cur_type.value;
  cur_out.innerText = t=="inr" ? (v/83).toFixed(2)+" USD" : (v*83).toFixed(2)+" INR";
}

/* ---------- EMI ---------- */
function calcEMI(){
  let P = Number(emi_p.value);
  let r = Number(emi_r.value)/1200;
  let n = Number(emi_t.value);
  let emi = P*r*( (1+r)**n ) / ( ((1+r)**n)-1 );
  emi_out.innerText = "EMI: â‚¹" + emi.toFixed(2);
}

/* ---------- PASSWORD GENERATOR ---------- */
function makePassword(){
  let chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*";
  let p="";
  for(let i=0;i<12;i++) p+=chars[Math.floor(Math.random()*chars.length)];
  pass_out.innerText=p;
}

/* ---------- QUIZ ---------- */
let q, a;
function newQuestion(){
  let n1=Math.floor(Math.random()*20), n2=Math.floor(Math.random()*20);
  q = `${n1} + ${n2}`;
  a = n1+n2;
  q_out.innerText = "Solve: " + q;
}
function checkAns(){
  q_res.innerText = (Number(q_ans.value)==a) ? "Correct!" : "Wrong!";
}

</script>
</body>
</html>
